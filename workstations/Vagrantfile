Vagrant.configure("2") do |config|
  
  
  simid = 1552905337
  
  
  config.vm.box = "peru/ubuntu-18.04-desktop-amd64"
  config.vm.define 'workstation1' do |config|
    config.vm.provider 'virtualbox' do |vb|
      vb.name = "#{simid}_workstation1"
      vb.customize ['modifyvm', :id, "--nic1", "intnet"]
      vb.customize ["modifyvm", :id, "--nictype1", "virtio"]
      vb.customize ["modifyvm", :id, "--nicpromisc2", "allow-all"]
      vb.customize ['modifyvm', :id, '--intnet1', "#{simid}_net8"]
    end
  end
  
  config.vm.define 'workstation2' do |config|
    config.vm.provider 'virtualbox' do |vb|
      vb.name = "#{simid}_workstation2"
      vb.customize ['modifyvm', :id, "--nic1", "intnet"]
      vb.customize ["modifyvm", :id, "--nictype1", "virtio"]
      vb.customize ["modifyvm", :id, "--nicpromisc2", "allow-all"]
      vb.customize ['modifyvm', :id, '--intnet1', "#{simid}_net11"]
    end
  end  
end
